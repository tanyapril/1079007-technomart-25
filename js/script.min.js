var feedbackLink=document.querySelector(".feedback-btn");if(feedbackLink){var feedbackModal=document.querySelector(".feedback"),closeFeedbackModal=feedbackModal.querySelector(".modal-close-btn"),feedbackForm=feedbackModal.querySelector("form"),userName=feedbackModal.querySelector("[name=name]"),userEmail=feedbackModal.querySelector("[name=email]"),message=feedbackModal.querySelector("[name=message]"),isStorageOn=!0,savedName="",savedEmail="";try{savedName=localStorage.getItem("name"),savedEmail=localStorage.getItem("email")}catch(e){isStorageOn=!1}feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.add("open-modal"),savedName?(userName.value=savedName,userEmail.focus()):userName.focus(),savedEmail&&(userEmail.value=savedEmail,message.focus())}),feedbackForm.addEventListener("submit",function(e){userName.value&&userEmail.value&&message.value?isStorageOn&&(localStorage.setItem("name",userName.value),localStorage.setItem("email",userEmail.value)):(e.preventDefault(),feedbackModal.classList.remove("modal-error"),feedbackModal.offsetWidth=feedbackModal.offsetWidth,userName.value?userEmail.value?message.focus():userEmail.focus():userName.focus(),feedbackModal.classList.add("modal-error"))}),closeFeedbackModal.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.remove("open-modal"),feedbackModal.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),feedbackModal.classList.contains("open-modal")&&(feedbackModal.classList.remove("open-modal"),feedbackModal.classList.remove("modal-error")))})}var mapLink=document.querySelector(".map");if(mapLink){var mapModal=document.querySelector(".big-map"),closeMapModal=mapModal.querySelector(".modal-close-btn");mapLink.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("open-modal")}),closeMapModal.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.remove("open-modal")}),window.addEventListener("keydown",function(e){"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),mapModal.classList.contains("open-modal")&&mapModal.classList.remove("open-modal"))})}var toCartLinks=document.querySelectorAll(".buy-btn"),cartLink=document.querySelector(".cart-btn"),cartNotificationModal=document.querySelector(".cart-notification"),closeCartNotificationModal=cartNotificationModal.querySelectorAll(".cart-notification-close"),notEmptyCart=cartLink.classList.contains("not-empty");for(i=0;i<toCartLinks.length;i++)toCartLinks[i].addEventListener("click",function(e){e.preventDefault(),notEmptyCart||cartLink.classList.add("not-empty"),cartNotificationModal.classList.add("open-modal")});for(i=0;i<closeCartNotificationModal.length;i++)closeCartNotificationModal[i].addEventListener("click",function(e){e.preventDefault(),cartNotificationModal.classList.remove("open-modal")});window.addEventListener("keydown",function(e){"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),cartNotificationModal.classList.contains("open-modal")&&cartNotificationModal.classList.remove("open-modal"))});var toBookmarksLinks=document.querySelectorAll(".to-bookmarks-btn"),bookmarksLink=document.querySelector(".user-bookmarks-btn");if(!bookmarksLink.classList.contains("not-empty"))for(i=0;i<toBookmarksLinks.length;i++)toBookmarksLinks[i].addEventListener("click",function(e){e.preventDefault(),bookmarksLink.classList.add("not-empty")});